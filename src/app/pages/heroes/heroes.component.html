<div *ngIf="lazyLoad.error">
  <error></error>
</div>
<div *ngIf="!lazyLoad.error">
  <header>
    <button mat-stroked-button class="back-page" color="basic" routerLink="/home">
      <mat-icon>arrow_back</mat-icon>
      Voltar
    </button>
    <h1>Todos os Heróis e Vilões Estão Aqui</h1>
  </header>
  <filter-and-search-bar (orderBy)="orderBy($event)" (orderByName)="orderByName($event)" (searchBy)="searchBy($event)">
  </filter-and-search-bar>
  <mat-tab-group [backgroundColor]="'accent'" [(selectedIndex)]="selectedTab" (selectedIndexChange)="tabChange()">
    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon class="example-tab-icon">recent_actors</mat-icon>
        Heróis e Vilões
      </ng-template>
      <mat-card class="example-card" *ngFor="let heroe of heroes; let i = index">
        <div class="border-bottom-card"></div>
        <mat-card-header>
          <div mat-card-avatar class="header-image">
            <mat-icon (mouseenter)="heroe.favorite = !heroe.favorite" (mouseleave)="heroe.favorite = !heroe.favorite"
              (click)="marcarFavorito(heroe.favorite, i)" class="favorite" [class.star]="heroe.favorite">{{heroe.favorite
              ? 'star' : 'star_border'}}</mat-icon>
          </div>
          <mat-card-title>{{heroe.name}}</mat-card-title>
          <mat-card-subtitle>Modificado em: {{dateUtil.formatDate(heroe.modified, 'dd/mm/yyyy')}}</mat-card-subtitle>
        </mat-card-header>
        <div class="zoom" [routerLink]="['/character', heroe.name, heroe.id]">
          <img mat-card-image [src]="imgLoad(heroe?.thumbnail)">
        </div>
      </mat-card>
      <div>
        <div class="end-results" *ngIf="endHeroes">
          <mat-icon>remove</mat-icon><span>Fim dos Resultados</span>
          <mat-icon>remove</mat-icon>
        </div>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
<gooey-ring-loader *ngIf="lazyLoad.loading && !lazyLoad.error"></gooey-ring-loader>
